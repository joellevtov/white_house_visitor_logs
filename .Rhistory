heatmaply(cor(mtcars),
main = "Correlation Heatmap",
xlab = "Features",
ylab = "Features",
colors = heat.colors(257))
library(heatmaply)
heatmaply(cor(mtcars),
main = "Correlation Heatmap",
xlab = "Features",
ylab = "Features",
colors = heat.colors(256))
###COMPLEX CHARTS â€“ 3D SCATTER PLOTS
library(scatterplot3d)
scatterplot3d(mtcars$hp, mtcars$mpg, mtcars$wt,
main="3D Scatter Plot")
###asked chatgpt how to turn a character column into a date time column, gave it some examples from our code and it told me to do this:
wh_visitor_data <- read_csv("data/combined.csv") |> clean_names() |>
mutate(toa = mdy_hm(toa)) |>
mutate(tod = mdy_hm(tod)) |>
mutate(appt_made_date = mdy_hm(appt_made_date))  |>
mutate(appt_start_date = mdy(appt_start_date))  |>
mutate(appt_end_date = mdy_hm(appt_end_date))  |>
mutate(lastentrydate = mdy_hm(lastentrydate))  |>
mutate(releasedate = mdy(releasedate))
library(tidyverse)
library(janitor)
library(lubridate)
setwd("~/data_journalism/data_journalism_fall_2023/major_assignments/group_project_2/white_house_visitor_logs")
###asked chatgpt how to turn a character column into a date time column, gave it some examples from our code and it told me to do this:
wh_visitor_data <- read_csv("data/combined.csv") |> clean_names() |>
mutate(toa = mdy_hm(toa)) |>
mutate(tod = mdy_hm(tod)) |>
mutate(appt_made_date = mdy_hm(appt_made_date))  |>
mutate(appt_start_date = mdy(appt_start_date))  |>
mutate(appt_end_date = mdy_hm(appt_end_date))  |>
mutate(lastentrydate = mdy_hm(lastentrydate))  |>
mutate(releasedate = mdy(releasedate))
glimpse(wh_visitor_data)
library(tidyverse)
library(janitor)
library(lubridate)
###asked chatgpt how to turn a character column into a date time column, gave it some examples from our code and it told me to do this:
wh_visitor_data <- read_csv("data/combined.csv") |> clean_names() |>
mutate(toa = mdy_hm(toa)) |>
mutate(tod = mdy_hm(tod)) |>
mutate(appt_made_date = mdy_hm(appt_made_date))  |>
mutate(appt_start_date = mdy(appt_start_date))  |>
mutate(appt_end_date = mdy_hm(appt_end_date))  |>
mutate(lastentrydate = mdy_hm(lastentrydate))  |>
mutate(releasedate = mdy(releasedate))
glimpse(wh_visitor_data)
# We want a clean single dataframe to work with. Right now there are a lot of columns that might not be particularly interesting or useful. For example, let's get rid of x28 and x29, caller room, appt cancel date, terminal suffix, poa, tod, pod,  meeting room, and post.
clean_wh_visitor_data <- wh_visitor_data |>
select(-poa, -access_type, -tod, -pod, -appt_cancel_date, -meeting_room, -caller_room, -x28, -x29)
# Full transparency, I couldn't remember the code for deleting a column so I asked ChatGPT the following: "using the tidyverse, janitor, and lubridate libraries in R, how do I delete a column?"
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
# We want a clean single dataframe to work with. Right now there are a lot of columns that might not be particularly interesting or useful. For example, let's get rid of x28 and x29, caller room, appt cancel date, terminal suffix, poa, tod, pod,  meeting room, and post.
clean_wh_visitor_data <- wh_visitor_data |>
select(-poa, -access_type, -tod, -pod, -appt_cancel_date, -meeting_room, -caller_room, -x28, -x29)
# Full transparency, I couldn't remember the code for deleting a column so I asked ChatGPT the following: "using the tidyverse, janitor, and lubridate libraries in R, how do I delete a column?"
library(tidyverse)
library(janitor)
library(lubridate)
###asked chatgpt how to turn a character column into a date time column, gave it some examples from our code and it told me to do this:
wh_visitor_data <- read_csv("data/combined.csv") |> clean_names() |>
mutate(toa = mdy_hm(toa)) |>
mutate(tod = mdy_hm(tod)) |>
mutate(appt_made_date = mdy_hm(appt_made_date))  |>
mutate(appt_start_date = mdy(appt_start_date))  |>
mutate(appt_end_date = mdy_hm(appt_end_date))  |>
mutate(lastentrydate = mdy_hm(lastentrydate))  |>
mutate(releasedate = mdy(releasedate))
glimpse(wh_visitor_data)
# We want a clean single dataframe to work with. Right now there are a lot of columns that might not be particularly interesting or useful. For example, let's get rid of x28 and x29, caller room, appt cancel date, terminal suffix, poa, tod, pod,  meeting room, and post.
clean_wh_visitor_data <- wh_visitor_data |>
select(-poa, -access_type, -tod, -pod, -appt_cancel_date, -meeting_room, -caller_room, -x28, -x29)
# Full transparency, I couldn't remember the code for deleting a column so I asked ChatGPT the following: "using the tidyverse, janitor, and lubridate libraries in R, how do I delete a column?"
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
View(clean_wh_visitor_data)
# We want a clean single dataframe to work with. Right now there are a lot of columns that might not be particularly interesting or useful. For example, let's get rid of x28 and x29, caller room, appt cancel date, terminal suffix, poa, tod, pod,  meeting room, and post.
clean_wh_visitor_data <- wh_visitor_data |>
select(-poa, -access_type, -tod, -pod, -appt_cancel_date, -meeting_room, -caller_room, -x28, -x29, -uin, -bdgnbr, -last_updatedby, -post, -terminal_suffix,-caller_name_last, -caller_name_first)
# Full transparency, I couldn't remember the code for deleting a column so I asked ChatGPT the following: "using the tidyverse, janitor, and lubridate libraries in R, how do I delete a column?"
library(tidyverse)
library(janitor)
library(lubridate)
###asked chatgpt how to turn a character column into a date time column, gave it some examples from our code and int told me to do this:
wh_visitor_data <- read_csv("data/combined.csv") |> clean_names() |>
mutate(toa = mdy_hm(toa)) |>
mutate(tod = mdy_hm(tod)) |>
mutate(appt_made_date = mdy_hm(appt_made_date))  |>
mutate(appt_start_date = mdy(appt_start_date))  |>
mutate(appt_end_date = mdy_hm(appt_end_date))  |>
mutate(lastentrydate = mdy_hm(lastentrydate))  |>
mutate(releasedate = mdy(releasedate))
glimpse(wh_visitor_data)
# We want a clean single dataframe to work with. Right now there are a lot of columns that might not be particularly interesting or useful. For example, let's get rid of x28 and x29, caller room, appt cancel date, terminal suffix, poa, tod, pod,  meeting room, and post.
clean_wh_visitor_data <- wh_visitor_data |>
select(-poa, -access_type, -tod, -pod, -appt_cancel_date, -meeting_room, -caller_room, -x28, -x29, -uin, -bdgnbr, -last_updatedby, -post, -terminal_suffix,-caller_name_last, -caller_name_first)
# Full transparency, I couldn't remember the code for deleting a column so I asked ChatGPT the following: "using the tidyverse, janitor, and lubridate libraries in R, how do I delete a column?"
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(toa_time = ymd_hms(toa) |> time()) |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(toa_time = ymd_hms(toa) |> time())
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(toa_time = ymd_hms(toa) |> time())
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(toa_time = ymd_hms(toa) |> time())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(toa_time = ymd_hms(toa) |> time())
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date())
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date())
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(toa_time = ymd_hms(toa) |> time())
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
View(clean_wh_visitor_data)
View(clean_wh_visitor_data)
library(tidyverse)
library(janitor)
library(lubridate)
###asked chatgpt how to turn a character column into a date time column, gave it some examples from our code and int told me to do this:
wh_visitor_data <- read_csv("data/combined.csv") |> clean_names() |>
mutate(toa = mdy_hm(toa)) |>
mutate(tod = mdy_hm(tod)) |>
mutate(appt_made_date = mdy_hm(appt_made_date))  |>
mutate(appt_start_date = mdy(appt_start_date))  |>
mutate(appt_end_date = mdy_hm(appt_end_date))  |>
mutate(lastentrydate = mdy_hm(lastentrydate))  |>
mutate(releasedate = mdy(releasedate))
glimpse(wh_visitor_data)
# We want a clean single dataframe to work with. Right now there are a lot of columns that might not be particularly interesting or useful. For example, let's get rid of x28 and x29, caller room, appt cancel date, terminal suffix, poa, tod, pod,  meeting room, and post.
clean_wh_visitor_data <- wh_visitor_data |>
select(-poa, -access_type, -tod, -pod, -appt_cancel_date, -meeting_room, -caller_room, -x28, -x29, -uin, -bdgnbr, -last_updatedby, -post, -terminal_suffix,-caller_name_last, -caller_name_first)
# Full transparency, I couldn't remember the code for deleting a column so I asked ChatGPT the following: "using the tidyverse, janitor, and lubridate libraries in R, how do I delete a column?"
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(toa_time = ymd_hms(toa) |> time())
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
library(tidyverse)
library(janitor)
library(lubridate)
###asked chatgpt how to turn a character column into a date time column, gave it some examples from our code and int told me to do this:
wh_visitor_data <- read_csv("data/combined.csv") |> clean_names() |>
mutate(toa = mdy_hm(toa)) |>
mutate(tod = mdy_hm(tod)) |>
mutate(appt_made_date = mdy_hm(appt_made_date))  |>
mutate(appt_start_date = mdy(appt_start_date))  |>
mutate(appt_end_date = mdy_hm(appt_end_date))  |>
mutate(lastentrydate = mdy_hm(lastentrydate))  |>
mutate(releasedate = mdy(releasedate))
glimpse(wh_visitor_data)
# We want a clean single dataframe to work with. Right now there are a lot of columns that might not be particularly interesting or useful. For example, let's get rid of x28 and x29, caller room, appt cancel date, terminal suffix, poa, tod, pod,  meeting room, and post.
clean_wh_visitor_data <- wh_visitor_data |>
select(-poa, -access_type, -tod, -pod, -appt_cancel_date, -meeting_room, -caller_room, -x28, -x29, -uin, -bdgnbr, -last_updatedby, -post, -terminal_suffix,-caller_name_last, -caller_name_first)
# Full transparency, I couldn't remember the code for deleting a column so I asked ChatGPT the following: "using the tidyverse, janitor, and lubridate libraries in R, how do I delete a column?"
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(toa_time = ymd_hms(toa) |> time())
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(toa_time = ymd_hms(toa) |> hms())
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
View(wh_visitor_data)
# We want a clean single dataframe to work with. Right now there are a lot of columns that might not be particularly interesting or useful. For example, let's get rid of x28 and x29, caller room, appt cancel date, terminal suffix, poa, tod, pod,  meeting room, and post.
clean_wh_visitor_data <- wh_visitor_data |>
select(-poa, -access_type, -pod, -appt_cancel_date, -meeting_room, -caller_room, -x28, -x29, -uin, -bdgnbr, -last_updatedby, -post, -terminal_suffix,-caller_name_last, -caller_name_first)
# Full transparency, I couldn't remember the code for deleting a column so I asked ChatGPT the following: "using the tidyverse, janitor, and lubridate libraries in R, how do I delete a column?"
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(toa_time = ymd_hms(toa) |> hms())
clean_wh_visitor_data |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(tod_date = ymd_hms(tod) |>date())
clean_wh_visitor_data |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(tod_date = ymd_hms(tod) |>date()) |>
mutate(toa_time = ymd_hms(toa) |> time())
clean_wh_visitor_data |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(tod_date = ymd_hms(tod) |>date()) |>
####mutate(toa_time = ymd_hms(toa) |> time()) we need to figure out how to separate out time from these two columns as well
clean_wh_visitor_data |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(tod_date = ymd_hms(tod) |>date())
####mutate(toa_time = ymd_hms(toa) |> time()) we need to figure out how to separate out time from these two columns as well
clean_wh_visitor_data |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
View(wh_visitors_by_date)
View(wh_visitors_by_end_date)
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(tod_date = ymd_hms(tod) |>date())
####mutate(toa_time = ymd_hms(toa) |> time()) we need to figure out how to separate out time from these two columns as well
clean_wh_visitor_data |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
clean_wh_visitor_data |> group_by(tod_date) |>
summarize(total = n())
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(tod_date = ymd_hms(tod) |>date())
####mutate(toa_time = ymd_hms(toa) |> time()) we need to figure out how to separate out time from these two columns as well
clean_wh_visitor_data |>
group_by(toa_date) |>
summarize(count=n()) |>
arrange(desc(count))
# note - since there are so many NA dates here, I think we should group by appt date.
wh_visitors_by_date <- clean_wh_visitor_data |>
group_by(appt_start_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### just kidding, there are a ton of NA dates still. maybe appt end date?
wh_visitors_by_end_date <- clean_wh_visitor_data |>
group_by(appt_end_date) |>
summarize(total_visits = n()) |>
arrange(desc(total_visits))
### this seems better
clean_wh_visitor_data |> group_by(tod_date) |>
summarize(total = n()) |>
arrange(desc(total))
###derek asked if the NA dates were specific to certain offices. how do we figure that out?
clean_wh_visitor_data |> filter(toa_date = NA)
###derek asked if the NA dates were specific to certain offices. how do we figure that out?
clean_wh_visitor_data |> filter(toa_date = "NA")
###derek asked if the NA dates were specific to certain offices. how do we figure that out?
clean_wh_visitor_data |> filter(toa_date == "NA")
###derek asked if the NA dates were specific to certain offices. how do we figure that out?
clean_wh_visitor_data |> filter(toa_date == NA)
###derek asked if the NA dates were specific to certain offices. how do we figure that out?
clean_wh_visitor_data |> filter(toa_date == is.na())
###derek asked if the NA dates were specific to certain offices. how do we figure that out?
clean_wh_visitor_data |> filter(if_any(-toa_date, is.na))
###derek asked if the NA dates were specific to certain offices. how do we figure that out?
clean_wh_visitor_data |> filter(if_any(-toa_date, is.na)) |>
group_by(meeting_loc) |>
summarise(count = n())
clean_wh_visitor_data |> group_by(meeting_loc) |>
summarise(count = n())
# We want a clean single dataframe to work with. Right now there are a lot of columns that might not be particularly interesting or useful. For example, let's get rid of x28 and x29, caller room, appt cancel date, terminal suffix, poa, tod, pod,  meeting room, and post.
clean_wh_visitor_data <- wh_visitor_data |>
select(-poa, -access_type, -pod, -appt_cancel_date, -caller_room, -x28, -x29, -uin, -bdgnbr, -last_updatedby, -post, -terminal_suffix,-caller_name_last, -caller_name_first)
# Full transparency, I couldn't remember the code for deleting a column so I asked ChatGPT the following: "using the tidyverse, janitor, and lubridate libraries in R, how do I delete a column?"
###note - we were having problems with this so I asked chatgpt: how do I make a new column with just the date from a column that includes date and time using lubridate and the tidyverse? it told me to do mutate(toa_date = ymd_hms(toa) %>% date())
clean_wh_visitor_data <- clean_wh_visitor_data |>
mutate(toa_date = ymd_hms(toa) |> date()) |>
mutate(tod_date = ymd_hms(tod) |>date())
clean_wh_visitor_data |> group_by(meeting_room) |>
summarise(count = n())
clean_wh_visitor_data |> group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == "2023-07-02") |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == "2023-07-02 11:59:00") |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == "2023-07-02 11:59:00")
clean_wh_visitor_data |> filter(appt_end_date == "2023-07-02 23:59:00") |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == "2023-07-26 23:59:00") |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == "2023-07-26") |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == 2023-07-26) |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date = "2023-07-26 23:59:00") |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == "2023-07-26 23:59:00") |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == '2023-07-26 23:59:00') |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == '2023-07-26') |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date = '2023-07-26') |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == '2023-07-26') |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
clean_wh_visitor_data |> filter(appt_end_date == 2023-07-26) |>
group_by(meeting_room) |>
summarise(count = n()) |>
arrange(desc(count))
